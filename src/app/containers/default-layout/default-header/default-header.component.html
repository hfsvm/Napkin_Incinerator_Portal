<ng-container>
  <c-container [fluid]="true" class="d-flex justify-content-between align-items-center">
    
    <!-- ✅ Navigation Links -->
    <nav class="header-nav">
      <a routerLink="/widgets" routerLinkActive="active-link" class="nav-link">Dashboard</a>
      <a routerLink="/machinedata" routerLinkActive="active-link" class="nav-link">Machine Data</a>
      <a routerLink="plugins/google-maps" routerLinkActive="active-link" target="_blank" rel="noopener noreferrer" class="nav-link">Maps</a>
    </nav>

    <!-- ✅ Dark Mode Toggle (Moon/Sun Icon) -->
    <span class="theme-icon" (click)="toggleTheme()">
      <i class="fas" [ngClass]="isDarkMode ? 'fa-sun' : 'fa-moon'"></i>
    </span>
    <small class="current-time ms-2">{{ currentTime }}</small>  <!-- ✅ Small Time Text -->

    <c-header-nav class="ms-auto me-sm-4 position-relative text-center d-flex align-items-center gap-3">

  <!-- 🔔 Bell Icon near Avatar -->
<div class="notification-container position-relative">
  <i class="fas fa-bell notification-icon" (click)="toggleNotifications()"></i>

  <!-- 🔴 Notification Count Badge -->
  <span
    *ngIf="unseenCount > 0"
    class="notification-badge position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
  >
    {{ unseenCount }}
  </span>

  <div class="notification-popover" *ngIf="showNotifications">
    <!-- ❌ Close button -->
    <div class="d-flex justify-content-between align-items-center mb-2">
      <strong>Stock Refill Alerts</strong>
      <button class="btn btn-sm btn-light" (click)="closeNotifications()">✖</button>
    </div>

    <div *ngIf="stockNotifications.length > 0; else noData">
      <div
        class="notification-item d-flex justify-content-between align-items-center mb-2"
        *ngFor="let notification of stockNotifications"
      >
        <span class="notification-message">{{ notification.message }}</span>
        <button
          class="btn btn-sm btn-primary"
          [disabled]="notification.seen"
          (click)="markAsSeen(notification)"
        >
          {{ notification.seen ? 'Seen' : 'Seen' }}
        </button>
      </div>
    </div>

    <ng-template #noData>
      <p class="text-muted">No notifications.</p>
    </ng-template>
  </div>
</div>




  <!-- ✅ User Avatar -->
  <div class="dropdown text-center">
    <c-avatar
      cTextColor="primary"
      shape="rounded-0"
      size="xl"
      src="./assets/img/avatars/6.jpg"
      class="p-0"
      style="width: 48px; height: 48px; border-radius: 8px; cursor: pointer;"
    ></c-avatar>

    <div class="user-id text-light fw-bold mt-1">
      {{ userName }}
    </div>
  </div>

  <!-- ✅ Logout Icon -->
  <div class="logout-container position-relative">
    <i
      class="fas fa-sign-out-alt logout-icon ms-3"
      (click)="confirmLogout()"
      (mouseover)="showLogoutTooltip = true"
      (mouseleave)="showLogoutTooltip = false"
    ></i>
    <span class="tooltip-text" *ngIf="showLogoutTooltip">Logout</span>
  </div>

</c-header-nav>
  

  </c-container>

  <!-- ✅ Logout Confirmation Modal -->
  <div *ngIf="showLogoutModal" class="modal-overlay">
    <div class="modal-box">
      <p class="modal-text">Are you sure you want to logout?</p>
      <div class="modal-buttons">
        <button class="btn btn-danger me-2" (click)="logout()">Yes</button>
        <button class="btn btn-secondary" (click)="closeModal()">No</button>
      </div>
    </div>
  </div>

  

</ng-container>
